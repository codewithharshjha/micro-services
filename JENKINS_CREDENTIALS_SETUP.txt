==========================================
JENKINS CREDENTIALS SETUP GUIDE
==========================================

QUICK SETUP: Add Credentials for Your Pipeline
------------------------------------------------

STEP 1: Create Credentials (One-Time Setup)
---------------------------------------------
You need to create credentials in Jenkins first. Here's the FASTEST way:

1. Go to your Jenkins Pipeline Job
2. Click "Configure" 
3. Scroll down and look for any section that mentions "Credentials" or "Add"
4. OR go to: Manage Jenkins → Credentials → System → Global credentials
5. Click "Add Credentials" (on the left sidebar)

STEP 2: Add Each Credential (Use These Exact IDs)
---------------------------------------------------
For EACH credential below, click "Add Credentials" and fill in:

   Kind: Secret text
   Secret: [paste your actual value]
   ID: [use EXACT ID from list below - copy/paste it]
   Description: [optional - e.g., "JWT Secret for user-service"]
   Scope: Global

REQUIRED CREDENTIALS (Add all of these):
-----------------------------------------
NOTE: These IDs match your .env file variable names (uppercase)
NOTE: PostgreSQL credentials are optional - defaults will be used if not created

User Service:
  ID: JWT_SECRET
  Secret: [Your JWT secret]

  ID: SESSION_SECRET
  Secret: [Your session secret]

  ID: GOOGLE_CLIENT_ID
  Secret: [Your Google OAuth Client ID]

  ID: GOOGLE_CLIENT_SECRET
  Secret: [Your Google OAuth Client Secret]

  ID: GITHUB_CLIENT_ID
  Secret: [Your GitHub OAuth Client ID]

  ID: GITHUB_CLIENT_SECRET
  Secret: [Your GitHub OAuth Client Secret]

Database (Optional - PostgreSQL image uses defaults if not set):
  ID: POSTGRES_USER
  Secret: postgres
  Note: Will use 'postgres' as default if not created

  ID: POSTGRES_PASSWORD
  Secret: password
  Note: Will use 'password' as default if not created

  ID: POSTGRES_DB
  Secret: micro_ecom
  Note: Will use 'micro_ecom' as default if not created

RabbitMQ (Optional - will use 'guest' if not set):
  ID: RABBITMQ_USER
  Secret: guest

  ID: RABBITMQ_PASS
  Secret: guest

STEP 3: Verify in Pipeline Job
------------------------------
1. Go back to your Pipeline Job → Configure
2. The credentials are now available system-wide
3. The Jenkinsfile will automatically use them when you run the pipeline

STEP 4: Test
-------------
1. Push code to GitHub (triggers webhook)
2. Jenkins pipeline will automatically use these credentials
3. Check build logs - credentials are masked for security

IMPORTANT:
----------
- The credential IDs in the Jenkinsfile MUST match exactly (case-sensitive)
- Credentials are stored securely in Jenkins
- They are never exposed in logs or code
- You only need to set them up once

TROUBLESHOOTING:
----------------
Error: "Credentials not found"
→ Check that the credential ID matches EXACTLY (copy/paste from above)
→ Verify credential type is "Secret text"
→ Make sure scope is "Global"

Error: "Service failed to start"
→ Check that all required credentials are created
→ Verify the secret values are correct
→ Check docker-compose logs: docker-compose logs [service-name]

QUICK REFERENCE - Credential IDs (Match your .env file):
---------------------------------------------------------
REQUIRED:
JWT_SECRET
SESSION_SECRET
GOOGLE_CLIENT_ID
GOOGLE_CLIENT_SECRET
GITHUB_CLIENT_ID
GITHUB_CLIENT_SECRET

OPTIONAL (will use defaults if not created):
POSTGRES_USER (default: postgres)
POSTGRES_PASSWORD (default: password)
POSTGRES_DB (default: micro_ecom)
RABBITMQ_USER (default: guest)
RABBITMQ_PASS (default: guest)
